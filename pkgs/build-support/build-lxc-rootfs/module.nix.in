{ config, pkgs, ...}:

with pkgs.lib;
let
  packageName = "@name@";
in
{
  options = {
    systemd.lxc-containers."${packageName}" = mkOption {
      type = types.attrsOf (types.submodule (
        { options = {
          };
        }));
    };
  };

  config = {
    systemd.services = mapAttrs' (name: container: nameValuePair "lxc-container-${packageName}-${name}"
    {
    }) config.systemd.lxc-containers."${packageName}";
  };
}